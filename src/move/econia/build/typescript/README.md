# Econia TypeScript SDK

TypeScript SDK auto-generated using [move-to-ts](https://github.com/hippospace/move-to-ts)
```
move-to-ts -c -n econia
```

# Usage:

```
Usage: yarn cli [options] [command]

Move TS CLI generated by move-to-ts

Options:
  -c, --config <path>                                                                        path to your aptos config.yml (generated with "aptos init")
  -p, --profile <PROFILE>                                                                    aptos config profile to use (default: "default")
  -h, --help                                                                                 display help for command

Commands:
  init-econia
  submit-market-buy <TYPE_B> <TYPE_Q> <TYPE_E> <host> <requested_size> <max_quote_to_spend>  Submit market order to buy B with Q
  submit-market-sell <TYPE_B> <TYPE_Q> <TYPE_E> <host> <requested_size>                      Submit market order to sell B to Q
  swap-buy <TYPE_B> <TYPE_Q> <TYPE_E> <host> <requested_size> <max_quote_to_spend>           Swap B to Q
  swap-sell <TYPE_B> <TYPE_Q> <TYPE_E> <host> <requested_size>                               Swap Q to B
  register-market <TYPE_B> <TYPE_Q> <TYPE_E>                                                 Create a new market B-Q-E
  cancel-ask <TYPE_B> <TYPE_Q> <TYPE_E> <host> <id>                                          Cancel bid order with id
  cancel-bid <TYPE_B> <TYPE_Q> <TYPE_E> <host> <id>                                          Cancel ask order with id
  deposit <TYPE_B> <TYPE_Q> <TYPE_E> <b_val> <q_val>                                         deposit funds into market
  init-containers <TYPE_B> <TYPE_Q> <TYPE_E>                                                 Initialize user for trading on B-Q-E market
  init-user                                                                                  Initializes account for placing limit orders
  submit-ask <TYPE_B> <TYPE_Q> <TYPE_E> <host> <price> <size>                                Submit limit order to sell B to Q
  submit-bid <TYPE_B> <TYPE_Q> <TYPE_E> <host> <price> <size>                                Submit limit order to buy B with Q
  withdraw <TYPE_B> <TYPE_Q> <TYPE_E> <b_val> <q_val>                                        Withdraw funds from market
  show-book-as-orders <ADDRESS:owner> <TYPE_B> <TYPE_Q> <TYPE_E>
  show-book-as-price-levels <ADDRESS:owner> <TYPE_B> <TYPE_Q> <TYPE_E>
  show-entries-MR-t <ADDRESS:owner>
  help [command]                                                                             display help for command
```

# Example:

```bash
# Econia devnet contract address
ECO=0x366d989b43410749faf89a28742f43935bd91c65070db5b840bc7777be9201f9
# Hippo token registry contract address
HIP=0xa61e1e86e9f596e483283727d2739ba24b919012720648c29380f9cd0a96c11a


# list markets registered with Econia
yarn cli -c .aptos/config.yaml -p v5 show-entries-MR-t $ECO

# register a new market for WBTC-WUSDC owned by $HIP
yarn cli -c .aptos/config.yaml register-market $HIP::mock_coin::WBTC $HIP::mock_coin::WUSDC $ECO::Registry::E0

# print the empty book just created
yarn cli -c .aptos/config.yaml show-book-as-levels $HIP $HIP::mock_coin::WBTC $HIP::mock_coin::WUSDC $ECO::Registry::E0
yarn cli -c .aptos/config.yaml show-book-as-price-levels $HIP $HIP::mock_coin::WBTC $HIP::mock_coin::WUSDC $ECO::Registry::E0

# initialize default profile as an Econia user
yarn cli -c .aptos/config.yaml init-user

# initialize default profile for trading on WBTC-WUSDC
yarn cli -c .aptos/config.yaml init-containers $HIP::mock_coin::WBTC $HIP::mock_coin::WUSDC $ECO::Registry::E0

# deposit funds for trading
yarn cli -c .aptos/config.yaml deposit $HIP::mock_coin::WBTC $HIP::mock_coin::WUSDC $ECO::Registry::E0 10 100000

# submit a few limit orders on BUY side
yarn cli -c .aptos/config.yaml submit-bid $HIP::mock_coin::WBTC $HIP::mock_coin::WUSDC $ECO::Registry::E0 $HIP 10000 1
yarn cli -c .aptos/config.yaml submit-bid $HIP::mock_coin::WBTC $HIP::mock_coin::WUSDC $ECO::Registry::E0 $HIP 9999 2
yarn cli -c .aptos/config.yaml submit-bid $HIP::mock_coin::WBTC $HIP::mock_coin::WUSDC $ECO::Registry::E0 $HIP 9999 1
yarn cli -c .aptos/config.yaml submit-bid $HIP::mock_coin::WBTC $HIP::mock_coin::WUSDC $ECO::Registry::E0 $HIP 9998 1

# print the non-empty book
yarn cli -c .aptos/config.yaml show-book-as-orders $HIP $HIP::mock_coin::WBTC $HIP::mock_coin::WUSDC $ECO::Registry::E0
yarn cli -c .aptos/config.yaml show-book-as-price-levels $HIP $HIP::mock_coin::WBTC $HIP::mock_coin::WUSDC $ECO::Registry::E0
```
